!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);o(1),o(2)},function(t,e,o){},function(t,e){function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}new Vue({el:"#app",data:{timeUp:!0,scoreBoard:!1,reloading:!1,monster:[],monsterStatus:[],bullet:[],Aim:[],aimStatus:[],score:0,countdown:3,bulletQty:12,bulletNum:12,vol:.5,topScore:JSON.parse(localStorage.getItem("topScore"))||0,point:JSON.parse(localStorage.getItem("point"))||0},methods:{startGame:function(){this.timeUp=!1,this.$refs.bgMusic.currentTime=0,this.$refs.bgMusic.play(),this.reset(),this.countDown(3)},countDown:function(t){var e=this;if(this.countdown=t,0===t)return this.monsterOut();setTimeout((function(){t-=1,e.countDown(t)}),1e3)},monsterOut:function(){var t=this,e=window.setInterval((function(){t.showMonster()}),450);setTimeout((function(){window.clearInterval(e),t.endGame()}),12e3)},showMonster:function(){var t=this,e=Math.floor(Math.random()*this.monster.length),o=1800*Math.random()+1200,r=Math.random();if(this.monster[e].style.transform=r>.5?"translateX(100px)":"translateX(-100px)",this.monsterStatus[e])return this.showMonster();this.monsterStatus[e]=!0,setTimeout((function(){t.monsterStatus[e]=!1,t.monster[e].style.transform="translateX(0)"}),o)},endGame:function(){var t=this;setTimeout((function(){t.score>t.topScore&&(localStorage.setItem("topScore",JSON.stringify(t.score)),t.topScore=JSON.parse(localStorage.getItem("topScore"))),t.$refs.bgMusic.pause(),t.timeUp=!0,t.scoreBoard=!0}),3e3)},restart:function(){this.scoreBoard=!1,this.startGame()},home:function(){this.timeUp=!0,this.scoreBoard=!1},reset:function(){this.bulletNum=this.bulletQty,this.bullet.forEach((function(t){return t.style.opacity="1"})),this.setScore(0)},clickHandler:function(t){this.monsterStatus[t]&&!this.reloading&&(this.monsterStatus[t]=!1,this.monster[t].style.transform="translateX(0)",this.setScore(this.score+10),this.setPoint(this.point+1))},shooting:function(){this.reloading||(this.bulletNum-=1,this.bullet[this.bulletNum].style.opacity="0.3",this.$refs.gun.currentTime=0,this.$refs.gun.play(),0===this.bulletNum&&this.reload())},reload:function(){var t=this;this.reloading=!0,this.$refs.reloadAudio.currentTime=0,this.$refs.reloadAudio.play(),setTimeout((function(){t.bulletNum=t.bulletQty,t.bullet.forEach((function(t){return t.style.opacity="1"})),t.reloading=!1}),1e3)},setScore:function(t){this.score=t},setPoint:function(t){this.point=t,localStorage.setItem("point",JSON.stringify(this.point)),this.point=JSON.parse(localStorage.getItem("point"))},buyAim:function(t,e){this.point<e||(this.setPoint(this.point-e),this.aimStatus[t]=!0,this.$refs.checkout.currentTime=0,this.$refs.checkout.play())},chooseAim:function(t){this.$refs.mouse.style.backgroundImage="url(../img/aim".concat(t,".png)"),this.bulletQty=12+2*t,this.reload()},minus:function(){this.vol-=.1,this.vol<0&&(this.vol=0),this.$refs.gun.volume=this.vol,this.$refs.reloadAudio.volume=this.vol,this.$refs.bgMusic.volume=this.vol,this.$refs.checkout.volume=this.vol},plus:function(){this.vol+=.1,this.vol>1&&(this.vol=1),this.$refs.gun.volume=this.vol,this.$refs.reloadAudio.volume=this.vol,this.$refs.bgMusic.volume=this.vol,this.$refs.checkout.volume=this.vol},setObj:function(){this.monster=o(document.querySelectorAll(".monster")),this.monsterStatus=this.monster.reduce((function(t,e,o){return t[o]=!1,t}),{}),this.bullet=o(document.querySelectorAll(".bullet li")),this.Aim=o(document.querySelectorAll(".chooseAim")),this.aimStatus=this.Aim.reduce((function(t,e,o){return t[o]=!1,t[0]=!0,t}),{})},mouseMove:function(t){var e=t.pageX-40,o=t.pageY-40;this.$refs.mouse.style.left=e+"px",this.$refs.mouse.style.top=o+"px",this.$refs.mouse.style.display="block"},mouseLeave:function(){this.$refs.mouse.style.display="none"},storageLock:function(){window.addEventListener("storage",(function(t){localStorage.setItem(t.key,t.oldValue)}))}},mounted:function(){this.setObj(),this.storageLock()},updated:function(){this.bullet=o(document.querySelectorAll(".bullet li"))}})}]);